---
import { Image } from 'astro:assets';
import WidgetWrapper from '~/components/ui/WidgetWrapper.astro';
import Headline from '~/components/ui/Headline.astro';

const {
  title = 'Supervisa, Controla y Mejora tu Operación',
  subtitle = 'Trakos te permite tomar decisiones informadas con datos fiables directamente desde el campo',
  tagline = 'Plataforma multiplataforma',
  id,
  isDark = false,
  classes = {},
  bg = undefined,
} = Astro.props;
---

<WidgetWrapper id={id} isDark={isDark} containerClass={`max-w-7xl mx-auto ${classes?.container ?? ''}`} bg={bg}>
  <Headline
    title={title}
    subtitle={subtitle}
    tagline={tagline}
    classes={{
      container: 'max-w-xl sm:mx-auto lg:max-w-2xl mb-8',
      title: 'text-4xl md:text-5xl font-bold tracking-tighter mb-4 font-heading text-primary dark:text-primary',
      subtitle: 'max-w-3xl mx-auto sm:text-center text-xl text-secondary dark:text-accent',
    }}
  />
  
  <div class="relative mx-auto max-w-6xl px-4 sm:px-6">
    <!-- Dispositivo principal (laptop) -->
    <div class="relative z-10 mx-auto overflow-hidden rounded-[2.5rem] bg-gray-800 shadow-xl dark:border dark:border-gray-700 dark:shadow-gray-900/50 lg:max-w-4xl">
      <div class="relative flex items-center justify-center bg-gray-900 pt-4">
        <div class="absolute left-4 top-4 flex space-x-2">
          <span class="h-3 w-3 rounded-full bg-red-500"></span>
          <span class="h-3 w-3 rounded-full bg-yellow-500"></span>
          <span class="h-3 w-3 rounded-full bg-green-500"></span>
        </div>
        <div class="h-1.5 w-1/3 rounded-full bg-gray-700"></div>
      </div>
      <div class="bg-primary/5 dark:bg-gray-800">
        <div class="dashboard-animation overflow-hidden">
          <div class="dashboard-slide">
            <img 
              src="/dashboard-1.png" 
              alt="Dashboard Trakos" 
              class="h-auto w-full"
              onerror="this.src='https://placehold.co/500x300';this.onerror='';"
            />
          </div>
        </div>
      </div>
    </div>
    
    <!-- Dispositivo secundario (móvil) -->
    <div class="absolute -bottom-10 -right-10 z-20 hidden w-56 overflow-hidden rounded-[1.5rem] bg-gray-800 shadow-xl dark:border dark:border-gray-700 dark:shadow-gray-900/50 md:block lg:-bottom-16 lg:-right-16 lg:w-72">
      <div class="relative flex items-center justify-center bg-gray-900 pt-2">
        <div class="h-1 w-12 rounded-full bg-gray-700"></div>
      </div>
      <div class="bg-primary/5 dark:bg-gray-800">
        <div class="mobile-animation overflow-hidden">
          <div class="mobile-slide">
            <img 
              src="/mobile-1.png" 
              alt="Trakos en móvil" 
              class="h-auto w-full"
              onerror="this.src='https://via.placeholder.com/400x800/E6F4FF/0076FF?text=Trakos+Mobile';this.onerror='';"
            />
          </div>
        </div>
      </div>
    </div>
    
    <!-- Elementos decorativos -->
    <div class="absolute -left-16 -top-16 z-0 h-64 w-64 rounded-full bg-primary/10 blur-3xl"></div>
    <div class="absolute -bottom-16 -right-16 z-0 h-64 w-64 rounded-full bg-secondary/10 blur-3xl"></div>
  </div>
</WidgetWrapper>

<style>
  .dashboard-animation, .mobile-animation {
    position: relative;
    width: 100%;
    overflow: hidden;
  }
  
  .dashboard-slide, .mobile-slide {
    display: flex;
    transition: transform 20s ease-in-out;
  }
  
  .dashboard-animation:hover .dashboard-slide,
  .mobile-animation:hover .mobile-slide {
    transform: translateY(-50%);
    transition: transform 10s ease-in-out;
  }
</style>
